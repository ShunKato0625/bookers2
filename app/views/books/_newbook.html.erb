<h2 class="mt-3">New book</h2>
  <div class="error">
    <%= render "layouts/errors",obj: book %>
  </div>

  <%= form_with model: book do |f| %>
    <div class="form-group">
      <label>Title</label>
      <%= f.text_field :title, class:"form-control book_title col-xs-12" %>
    </div>
    <div class="form-group">
      <label>Opinion</label>
      <%= f.text_area :body, class:"form-control book_body col-xs-12" %>
    </div>
    <div class="form-group">
      <label>Category</label>
      <%= f.text_field :category, class:"form-control book_category col-xs-12" %>
    </div>

    <% if book.id === nil %>
    <div class="form-group" id="star">
      <%= f.label :rate %>
      <%= f.hidden_field :rate, id: :review_star, class:'form-control' %>
    </div>

    <script>
      $('#star').raty({
        size     : 36,
        starOff:  "<%= asset_path('star-off.png') %>",
        starOn : "<%= asset_path('star-on.png') %>",
        starHalf: "<%= asset_path('star-half.png') %>",
        scoreName: 'book[rate]',
        half: true,
      });
    </script>
    <% else %>
      <%= render "static_rate", book: book %>
    <% end %>

    <div class="form-group">
      <%= f.submit class:"btn btn-success" %>
    </div>
  <% end %>